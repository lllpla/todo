(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b784c444"],{"3e75":function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"home fit row wrap justify-start items-start content-start",staticStyle:{width:"90%"}},[t._l(t.todoList.filter((function(t){return"running"==t.state})),(function(i){return e("q-intersection",{key:i.id,attrs:{transition:"scale"}},[e("q-card",{class:t.getClass(i),staticStyle:{"margin-top":"20px","margin-left":"10px","margin-right":"10px"},on:{mouseover:function(t){i.active=!0},mouseleave:function(t){i.active=!1},click:function(e){return t.showDialog(e,i)}}},[e("q-card-section",[e("div",{staticClass:"row items-center no-wrap"},[e("div",{staticClass:"col"},[e("div",[t._v(t._s(i.title))])]),e("div",{staticClass:"col-auto"},[e("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"more_vert"},on:{click:function(t){t.stopPropagation()}}},[e("q-menu",{attrs:{cover:"","auto-close":""}},[e("q-list",[e("q-item",{attrs:{clickable:""}},[e("q-item-section",{on:{click:function(e){return t.deleteTask(i)}}},[t._v("删除")])],1),e("q-item",{attrs:{clickable:""},on:{click:function(e){return t.changeState(i.id,"store")}}},[e("q-item-section",[t._v("归档")])],1),e("q-item",{attrs:{clickable:""},on:{click:function(e){return t.changeState(i.id,"finished")}}},[e("q-item-section",[t._v("完成")])],1)],1)],1)],1)],1)])]),e("q-card-section",[e("pre",{staticStyle:{fontSize:"smaller"}},[t._v(t._s(i.text))])]),e("q-separator"),e("q-card-section",{staticClass:"fit row  justify-end"},[e("q-chip",{staticClass:"text-caption",attrs:{dense:""}},[t._v(" "+t._s(i.time)+" ")])],1)],1)],1)})),e("q-dialog",{model:{value:t.dialog.show,callback:function(i){t.$set(t.dialog,"show",i)},expression:"dialog.show"}},[e("q-card",{class:t.getClass(t.dialog),staticStyle:{width:"600px","max-width":"80vw"}},[e("q-card-section",[e("q-input",{ref:"dialogTitle",staticClass:"text-h5",attrs:{label:"标题",borderless:"",rules:[function(t){return!!t||"请输入标题"}]},model:{value:t.dialog.title,callback:function(i){t.$set(t.dialog,"title",i)},expression:"dialog.title"}})],1),e("q-card-section",[e("q-input",{ref:"dialogDetial",attrs:{label:"内容",borderless:"",type:"textarea",autofocus:""},on:{keydown:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"tab",9,i.key,"Tab")?null:(i.preventDefault(),t.editerTab(i))}},model:{value:t.dialog.text,callback:function(i){t.$set(t.dialog,"text",i)},expression:"dialog.text"}})],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"取消",color:"primary"}}),e("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:function(i){return t.submitModify()}}})],1)],1)],1)],2)},s=[],a=(e("4de4"),e("7db0"),e("5530")),n=e("2f62"),r={name:"now",components:{},data:function(){return{dialog:{show:!1,title:"",id:"",text:"",color:""}}},methods:{editerTab:function(){var t="    ",i=this.$refs.dialogDetial.$refs.input,e=i.selectionStart,o=i.selectionEnd;if(void 0!==e&&void 0!==o){var s=i.value,a=s.substring(0,e)+t+s.substring(o);i.value=a,i.focus(),i.selectionStart=e+t.length,i.selectionEnd=e+t.length,this.dialog.text=a}},showDialog:function(t,i){this.dialog.show=!0,this.dialog.title=i.title,this.dialog.text=i.text+"",this.dialog.color=i.color,this.dialog.id=i.id},submitModify:function(){var t=this;if(this.$refs.dialogTitle.validate(),!this.$refs.dialogTitle.hasError){var i=this.todoList.find((function(i){return i.id==t.dialog.id}));i.title=this.dialog.title,i.text=this.dialog.text+"",i.active=!1,this.$store.dispatch("saveTask",{todoList:this.todoList}),this.dialog.show=!1}},changeState:function(t,i){if(this.todoList){var e=this.todoList.find((function(i){return i.id===t}));e.active=!1,e.state=i,this.$store.dispatch("saveTask",{todoList:this.todoList})}},getClass:function(t){return void 0==t.active||t.active?"shadow-8 bg-"+t.color:"bg-"+t.color},deleteTask:function(t){var i=this,e=this.todoList.filter((function(i){return i.id!==t.id}));this.$store.dispatch("saveTask",{todoList:e}),this.$q.notify({message:"当前笔记["+t.title+"]已删除",progress:!0,timeout:5e3,actions:[{label:"撤销",color:"yellow",handler:function(){e.push(t),i.$store.dispatch("saveTask",{todoList:e}),i.$q.notify("删除已撤销")}}]})},hoverStyle:function(t){t.currentTarget.className="q-card shadow-8"},leaveStyle:function(t){t.currentTarget.className="q-card"}},computed:Object(a["a"])({},Object(n["b"])({todoList:function(t){return t.todoList}}))},c=r,l=(e("972c"),e("2877")),d=e("fe09"),u=Object(l["a"])(c,o,s,!1,null,null,null);i["default"]=u.exports;u.options.components=Object.assign({QIntersection:d["p"],QCard:d["f"],QCardSection:d["h"],QBtn:d["d"],QMenu:d["u"],QList:d["t"],QItem:d["q"],QItemSection:d["r"],QSeparator:d["x"],QChip:d["i"],QBtnGroup:d["e"],QDialog:d["k"],QInput:d["o"],QCardActions:d["g"]},u.options.components||{}),u.options.directives=Object.assign({ClosePopup:d["a"]},u.options.directives||{})},"972c":function(t,i,e){"use strict";var o=e("f989"),s=e.n(o);s.a},f989:function(t,i,e){}}]);
//# sourceMappingURL=chunk-b784c444.85269635.js.map