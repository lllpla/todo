(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e2ab9e6"],{"2c25":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("TaskList",{attrs:{taskType:"store"}})},o=[],a=i("d3d7"),n={name:"finish",components:{TaskList:a["a"]}},r=n,c=i("2877"),l=Object(c["a"])(r,s,o,!1,null,null,null);e["default"]=l.exports},"50d9":function(t,e,i){},"767f":function(t,e,i){"use strict";var s=i("50d9"),o=i.n(s);o.a},d3d7:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home fit row wrap justify-start items-start content-start",staticStyle:{width:"90%"}},[t._l(t.todoList.filter((function(e){return e.state==t.taskType})),(function(e){return i("q-intersection",{key:e.id,attrs:{transition:"scale"}},[i("q-card",{class:t.getClass(e),staticStyle:{"margin-top":"20px","margin-left":"10px","margin-right":"10px"},on:{mouseover:function(t){e.active=!0},mouseleave:function(t){e.active=!1},click:function(i){return t.showDialog(i,e)}}},[i("q-card-section",[i("div",{staticClass:"row items-center no-wrap",staticStyle:{height:"40px"}},[i("div",{staticClass:"col"},[i("div",[t._v(t._s(e.title))])]),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",color:"grey-7",round:"",flat:"",icon:"more_vert"},on:{click:function(t){t.stopPropagation()}}},[i("q-menu",[i("q-list",["running"!=t.taskType?i("q-item",{attrs:{clickable:""},on:{click:function(i){return t.changeState(e.id,"running")}}},[i("q-item-section",[t._v("还原")])],1):t._e(),"store"!=t.taskType?i("q-item",{attrs:{clickable:""},on:{click:function(i){return t.changeState(e.id,"store")}}},[i("q-item-section",[t._v("归档")])],1):t._e(),"finished"!=t.taskType?i("q-item",{attrs:{clickable:""},on:{click:function(i){return t.changeState(e.id,"finished")}}},[i("q-item-section",[t._v("完成")])],1):t._e(),i("q-item",{staticClass:"text-red",attrs:{clickable:""}},[i("q-item-section",{on:{click:function(i){return t.deleteTask(e)}}},[t._v("删除")])],1)],1)],1)],1)],1)])]),i("q-card-section",[i("pre",{staticStyle:{fontSize:"smaller"}},[t._v(t._s(e.text))])]),i("q-separator"),i("q-card-section",{staticClass:"fit row  justify-end"},[i("q-chip",{staticClass:"text-caption",attrs:{dense:""}},[t._v(" "+t._s(e.time)+" ")])],1)],1)],1)})),i("q-dialog",{model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[i("q-card",{class:t.getClass(t.dialog),staticStyle:{width:"600px","max-width":"80vw"}},[i("q-card-section",[i("q-input",{ref:"dialogTitle",staticClass:"text-h5",attrs:{label:"标题",borderless:"",rules:[function(t){return!!t||"请输入标题"}]},model:{value:t.dialog.title,callback:function(e){t.$set(t.dialog,"title",e)},expression:"dialog.title"}})],1),i("q-card-section",[i("q-input",{ref:"dialogDetial",attrs:{label:"内容",borderless:"",type:"textarea",autofocus:"",autogrow:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.preventDefault(),t.editerTab(e))}},model:{value:t.dialog.text,callback:function(e){t.$set(t.dialog,"text",e)},expression:"dialog.text"}})],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"取消",color:"primary"}}),i("q-btn",{attrs:{flat:"",label:"确定",color:"primary"},on:{click:function(e){return t.submitModify()}}})],1)],1)],1)],2)},o=[],a=(i("4de4"),i("7db0"),i("5530")),n=i("2f62"),r={name:"TaskList",components:{},props:{taskType:{type:String,default:"running"}},data:function(){return{dialog:{show:!1,title:"",id:"",text:"",color:""}}},methods:{editerTab:function(){var t="\t",e=this.$refs.dialogDetial.$refs.input,i=e.selectionStart,s=e.selectionEnd;if(void 0!==i&&void 0!==s){var o=e.value,a=o.substring(0,i)+t+o.substring(s);e.value=a,e.focus(),e.selectionStart=i+t.length,e.selectionEnd=i+t.length,this.dialog.text=a}},showDialog:function(t,e){this.dialog.show=!0,this.dialog.title=e.title,this.dialog.text=e.text+"",this.dialog.color=e.color,this.dialog.id=e.id},submitModify:function(){var t=this;if(this.$refs.dialogTitle.validate(),!this.$refs.dialogTitle.hasError){var e=this.todoList.find((function(e){return e.id==t.dialog.id}));e.title=this.dialog.title,e.text=this.dialog.text+"",e.active=!1,this.$store.dispatch("saveTask",{todoList:this.todoList}),this.dialog.show=!1}},changeState:function(t,e){if(this.todoList){var i=this.todoList.find((function(e){return e.id===t}));i.active=!1,i.state=e,this.$store.dispatch("saveTask",{todoList:this.todoList})}},getClass:function(t){return void 0==t.active||t.active?"shadow-8 bg-"+t.color:"bg-"+t.color},deleteTask:function(t){var e=this,i=this.todoList.filter((function(e){return e.id!==t.id}));this.$store.dispatch("saveTask",{todoList:i}),this.$q.notify({message:"当前笔记["+t.title+"]已删除",progress:!0,timeout:5e3,actions:[{label:"撤销",color:"yellow",handler:function(){i.push(t),e.$store.dispatch("saveTask",{todoList:i}),e.$q.notify("删除已撤销")}}]})},hoverStyle:function(t){t.currentTarget.className="q-card shadow-8"},leaveStyle:function(t){t.currentTarget.className="q-card"}},computed:Object(a["a"])({},Object(n["b"])({todoList:function(t){return t.todoList}}))},c=r,l=(i("767f"),i("2877")),d=i("fe09"),u=Object(l["a"])(c,s,o,!1,null,null,null);e["a"]=u.exports;u.options.components=Object.assign({QIntersection:d["o"],QCard:d["e"],QCardSection:d["g"],QBtn:d["d"],QMenu:d["t"],QList:d["s"],QItem:d["p"],QItemSection:d["q"],QSeparator:d["w"],QChip:d["h"],QDialog:d["j"],QInput:d["n"],QCardActions:d["f"]},u.options.components||{}),u.options.directives=Object.assign({ClosePopup:d["a"]},u.options.directives||{})}}]);
//# sourceMappingURL=chunk-6e2ab9e6.a6728fe2.js.map